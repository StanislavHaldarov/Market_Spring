<!DOCTYPE html>
<html style="font-size: 16px;" lang="en" xmlns:th="http://www.w3.org/1999/xhtml%22%3E"
      xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Or​ga​ni​">
    <meta name="description" content="">
    <title>productmanagement</title>
    <link rel="stylesheet" href="/nicepage.css" media="screen">
    <link rel="stylesheet" href="/productmanagement.css" media="screen">
    <script class="u-script" type="text/javascript" src="/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="/nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 5.5.0, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster:400">


    <script type="application/ld+json">{
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": ""
    }</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="productmanagement">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/">
</head>
<body onload="renderFields(this)" class="u-body u-xl-mode" data-lang="en">
<th:block th:include="~{fragments/header}"></th:block>
<section class="u-clearfix u-section-1" id="sec-7f4d">
    <div class="u-clearfix u-sheet u-sheet-1"></div>
    <h2>Редактиране на продукт</h2>
    <form th:action="@{/products/update}" th:object="${product}" method="POST">
        <input type="hidden" th:field="*{id}">
        <select th:field="*{type} " id='typeOption' required>
            <option selected th:value="*{type}" th:text="*{type}"></option>
            <!--                    <option th:each="t: ${types}" th:value="${t.name}" th:text="${t.name}"></option>-->
        </select>

        <div>
            <p>име</p>
            <input th:field="*{name}" type="text">
            <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" style="color:red"></p>
        </div>

        <div>
            <p>налично количество</p>
            <input th:field="*{availableQuantity}" type="number">
            <p th:if="${#fields.hasErrors('availableQuantity')}" th:errors="*{availableQuantity}"
               style="color:red"></p>
        </div>

        <div>
            <p>цена</p>
            <input th:field="*{priceBGN}" type="number" step="0.01">
            <p th:if="${#fields.hasErrors('priceBGN')}" th:errors="*{priceBGN}"
               style="color:red"></p>
        </div>

        <div>
            <p>срок на годност</p>
            <input th:field="*{expiredDate}" type="date">
            <p th:if="${#fields.hasErrors('expiredDate')}" th:errors="*{expiredDate}"
               style="color:red"></p>
        </div>

        <div>
            <p>изображение(url)</p>
            <input th:field="*{imageUrl}" type="url">
            <p th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}"
               style="color:red"></p>
        </div>

        <div id='weight' style="display:none">
            <p>грамаж</p>
            <input th:field="*{weight}" type="number" step="0.01">
            <p th:if="${#fields.hasErrors('weight')}" th:errors="*{weight}"
               style="color:red"></p>
        </div>

        <div id="volume" style="display: none">
            <p>обем</p>
            <input th:field="*{volume}" type="number" step="0.01">
            <p th:if="${#fields.hasErrors('volume')}" th:errors="*{volume}"
               style="color:red"></p>
        </div>

        <div id='count' style="display: none">
            <p>брой в пакет</p>
            <input th:field="*{count}" type="number">
            <p th:if="${#fields.hasErrors('count')}" th:errors="*{count}"
               style="color:red"></p>
        </div>
        <button type="submit">Обнови</button>
    </form>
    <script>
                function renderFields(e) {
                    const opt = document.getElementById('typeOption');
                    const selectedOption = opt.options[opt.selectedIndex].text;

                    const weightInput = document.getElementById('weight');
                    const volumeInput = document.getElementById('volume');
                    const countInput = document.getElementById('count');
                    switch (selectedOption) {
                        case "FOOD":
                            weightInput.style.display = 'block';
                            volumeInput.style.display = 'none';
                            countInput.style.display = 'none';
                            break;
                        case "DRINKS":
                            weightInput.style.display = 'none';
                            volumeInput.style.display = 'block';
                            countInput.style.display = 'none';
                            break;
                        case "SANITARY":
                            weightInput.style.display = 'none';
                            volumeInput.style.display = 'none';
                            countInput.style.display = 'block';
                            break;
                        case "COSMETICS":
                            weightInput.style.display = 'block';
                            volumeInput.style.display = 'block';
                            countInput.style.display = 'none';
                            break;
                    }
                }


    </script>
</section>
<!--ADD PRODUCT END-->


<footer class="u-align-center u-clearfix u-custom-color-5 u-footer u-footer" id="sec-0d45">
    <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1">Sample text. Click to select the Text Element.</p>
    </div>
</footer>
<section class="u-backlink u-clearfix u-grey-80">
    <a class="u-link" href="https://nicepage.com/website-templates" target="_blank">
        <span>Website Templates</span>
    </a>
    <p class="u-text">
        <span>created with</span>
    </p>
    <a class="u-link" href="" target="_blank">
        <span>Website Builder Software</span>
    </a>.
</section>

</body>
</html>